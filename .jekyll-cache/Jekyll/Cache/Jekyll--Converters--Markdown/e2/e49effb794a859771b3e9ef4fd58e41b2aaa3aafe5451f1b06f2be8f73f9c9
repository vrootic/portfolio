I"d	<h2 id="realtime-twitter-streaming-render">Realtime Twitter Streaming Render</h2>

<p>This is one of my Flask project. I tried to render tweets by using asynchronous method that socketio provides. After set up Twitter API key, I can render tweets that contains keyword to browser asynchronously.</p>

<p><img src="https://vicyang.com/assets/images/2017-07-19-realtime-twitter-streaming-render/1.png" /></p>
<figcaption class="caption">Screenshot 1</figcaption>
<p><br /></p>

<p>For core code,</p>

<noscript><pre>import time
import sys
import json
from threading import Thread
from collections import OrderedDict

from tweepy.streaming import StreamListener
from tweepy.api import API
from tweepy import OAuthHandler
from tweepy import Stream

from key import CONSUMER_KEY, CONSUMER_SECRET, ACCESS_TOKEN, ACCESS_TOKEN_SECRET




auth = OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)
auth.set_access_token(ACCESS_TOKEN, ACCESS_TOKEN_SECRET)

class StdOutListener(StreamListener):

    def __init__(self, listener_id, callback=None):
        super(StdOutListener, self).__init__()
        self.listener_id = listener_id
        self.callback = callback
        self.count = 0

    def on_data(self, data):
        message = json.loads(data)[&#39;text&#39;]
        if self.count &gt; 10:
            return False
        else:
            self.count += 1
        if self.callback:
            message = json.loads(data)[&#39;text&#39;]
            self.callback(message)

    def on_error(self, status_code):
        if status_code == 420: # Enhance Your Calm which means we are being rate limit.
            return False


def ListenerAction(auth, listener_id, callback=None, track=None):
    listener = StdOutListener(listener_id, callback)
    stream = Stream(auth, listener)

    def action():
        stream.filter(track=[&#39;trump&#39;])

    return action()
    
if __name__ == &#39;__main__&#39;:
    import json
    api = API(auth)
    print(&quot;Start searching New York trends topics...&quot;)
    trends = api.trends_place(2459115)
    with open(&quot;trends.json&quot;, &quot;w+&quot;) as f:
        f.write(json.dumps(trends))
        
</pre></noscript>
<script src="https://gist.github.com/vrootic/76c78793722bb49ffb432e930462f105.js"> </script>

<p>===</p>

<p>For more details, you can check <a href="https://github.com/vrootic/realtime-twitter-streaming-render/tree/master">here</a></p>

:ET